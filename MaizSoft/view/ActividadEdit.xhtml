<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
    template="layout/template2.xhtml">

	<ui:define name="head">
		<link href="css/default.css" rel="stylesheet" type="text/css" />	
	</ui:define>
	
<ui:define name="centroT">

    <h:form id="actividad" styleClass="edit">

        <rich:panel>
            <f:facet name="header">#{actividadHome.managed ? 'Editar' : 'Adicionar'} Actividad</f:facet>

            <s:decorate id="descripcionActividadField" template="layout/edit.xhtml" style="position:absolute;">
                <ui:define name="label">Descripcion actividad</ui:define>
                <h:inputTextarea id="descripcionActividad"
                               cols="80"
                               rows="3"
                              value="#{actividadHome.instance.descripcionActividad}"/>
            </s:decorate>

			<br/><br />
			
			
            <s:decorate id="evaluableField" template="layout/edit.xhtml" style="position:absolute;">
                <ui:define name="label">Evaluable</ui:define>
                <h:selectBooleanCheckbox id="evaluable"
                                      value="#{actividadHome.instance.evaluable}"/>
            </s:decorate>

			<br /> <br />

			<h:selectOneMenu
					value="#{actividadHome.instance.tipo}"
					id="sobrenombre" required="true" rendered="true">
					<s:selectItems value="#{listaTiposActividades}" var="lista"
						label="#{lista.nombre}" noSelectionLabel="SELECCIONE..." />
					<a4j:support event="onchange" reRender="dos" />
					<s:convertEntity />
				</h:selectOneMenu>
            <div style="clear:both">
                <span class="required">*</span>
                Campos Obligatorios
            </div>

        </rich:panel>
<a4j:outputPanel id="dos">
        <div class="actionButtons">

            <h:commandButton id="save"
                          value="Guardar"
                         action="#{actividadHome.persist}"
                       disabled="#{!actividadHome.wired}"
                       rendered="#{!actividadHome.managed}"/>

            <h:commandButton id="update"
                          value="Guardar"
                         action="#{actividadHome.update}"
                       rendered="#{actividadHome.managed}"/>

            <h:commandButton id="delete"
                          value="Eliminar"
                         action="#{actividadHome.remove}"
                      immediate="true"
                       rendered="#{actividadHome.managed}"/>

            <s:button id="cancelEdit"
                   value="Cancelar"
             propagation="end"
                    view="/Actividad.xhtml"
                rendered="#{actividadHome.managed}"/>

            <s:button id="cancelAdd"
                   value="Cancelar"
             propagation="end"
                    view="/#{empty actividadFrom ? 'ActividadList' : actividadFrom}.xhtml"
                rendered="#{!actividadHome.managed}"/>

        </div>
        </a4j:outputPanel>
    </h:form>

<rich:tabPanel switchType="ajax">

    <rich:tab label="Gestor anuncios">
        <h:form styleClass="association" id="gestorAnunciosChildren">

            <h:outputText value="There are no gestorAnuncios associated with this actividad."
                       rendered="#{empty actividadHome.gestorAnuncios}"/>

            <rich:dataTable value="#{actividadHome.gestorAnuncios}"
                           var="_gestorAnuncios"
                      rendered="#{not empty actividadHome.gestorAnuncios}"
                    rowClasses="rvgRowOne,rvgRowTwo"
                            id="gestorAnunciosTable">
                <rich:column sortBy="#{_gestorAnuncios.idGestorAnuncios}">
                    <f:facet name="header">Id gestor anuncios</f:facet>
                    <h:outputText value="#{_gestorAnuncios.idGestorAnuncios}"/>
                </rich:column>
                <rich:column sortBy="#{_gestorAnuncios.descripcion}">
                    <f:facet name="header">Descripcion</f:facet>
                    <h:outputText value="#{_gestorAnuncios.descripcion}"/>
                </rich:column>
                <rich:column sortBy="#{_gestorAnuncios.nombre}">
                    <f:facet name="header">Nombre</f:facet>
                    <h:outputText value="#{_gestorAnuncios.nombre}"/>
                </rich:column>
            </rich:dataTable>

        </h:form>

        <f:subview rendered="#{actividadHome.managed}" id="gestorAnuncios">
        <div class="actionButtons">
            <s:button id="addgestorAnuncios"
                   value="Add gestorAnuncios"
                    view="/GestorAnunciosEdit.xhtml"
             propagation="none">
                 <f:param name="actividadIdActividad"
                         value="#{actividadHome.instance.idActividad}"/>
                 <f:param name="gestorAnunciosFrom" value="Actividad"/>
            </s:button>
        </div>
        </f:subview>
    </rich:tab>

    <rich:tab label="Lista nota actividades">
        <h:form styleClass="association" id="listaNotaActividadesChildren">

            <h:outputText value="There are no listaNotaActividades associated with this actividad."
                       rendered="#{empty actividadHome.listaNotaActividades}"/>

            <rich:dataTable value="#{actividadHome.listaNotaActividades}"
                           var="_notaActividad"
                      rendered="#{not empty actividadHome.listaNotaActividades}"
                    rowClasses="rvgRowOne,rvgRowTwo"
                            id="listaNotaActividadesTable">
                <rich:column sortBy="#{_notaActividad.idNotaActividad}">
                    <f:facet name="header">Id nota actividad</f:facet>
                    <h:outputText value="#{_notaActividad.idNotaActividad}"/>
                </rich:column>
                <rich:column sortBy="#{_notaActividad.estadoPendiente}">
                    <f:facet name="header">Estado pendiente</f:facet>
                    <h:outputText value="#{_notaActividad.estadoPendiente}"/>
                </rich:column>
                <rich:column sortBy="#{_notaActividad.justificacion}">
                    <f:facet name="header">Justificacion</f:facet>
                    <h:outputText value="#{_notaActividad.justificacion}"/>
                </rich:column>
                <rich:column sortBy="#{_notaActividad.nota}">
                    <f:facet name="header">Nota</f:facet>
                    <h:outputText value="#{_notaActividad.nota}"/>
                </rich:column>
            </rich:dataTable>

        </h:form>

        <f:subview rendered="#{actividadHome.managed}" id="listaNotaActividades">
        <div class="actionButtons">
            <s:button id="addnotaActividad"
                   value="Add notaActividad"
                    view="/NotaActividadEdit.xhtml"
             propagation="none">
                 <f:param name="actividadIdActividad"
                         value="#{actividadHome.instance.idActividad}"/>
                 <f:param name="notaActividadFrom" value="Actividad"/>
            </s:button>
        </div>
        </f:subview>
    </rich:tab>

    
</rich:tabPanel>
</ui:define>

</ui:composition>
