<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:s="http://jboss.com/products/seam/taglib"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:a="http://richfaces.org/a4j"
    xmlns:rich="http://richfaces.org/rich"
    template="layout/template.xhtml">
    
    <ui:define name="head">
		<link href="css/cssLayoutPrincipal.css" rel="stylesheet" type="text/css"/>
    	<link href="css/default.css" rel="stylesheet" type="text/css" />
    	
    	<script language="JavaScript"> 

    	function mueveReloj(){ 
    	   	momentoActual = new Date()
    	   	hora = momentoActual.getHours() 
   			minuto = momentoActual.getMinutes() 
   			segundo = momentoActual.getSeconds() 

   			str_segundo = new String (segundo) 
   			if (str_segundo.length == 1) 
      	 		segundo = "0" + segundo 

   			str_minuto = new String (minuto) 
   			if (str_minuto.length == 1) 
      	 		minuto = "0" + minuto 

   			str_hora = new String (hora) 
   			if (str_hora.length == 1) 
	      	 	hora = "0" + hora 

   			horaImprimible = "hora: "+hora + " : " + minuto + " : " + segundo 

   			document.form_reloj.reloj.value = horaImprimible 

   			setTimeout("mueveReloj()",1000) 
} 
</script>
</ui:define>

<ui:define name="body">
	<body onload="mueveReloj()">
	<s:div styleClass="top" style="color: white; margin-left: 70px; margin-rigth: 70px;" >
			<div style="color: #184B96">
            <ui:insert name="top">.</ui:insert>
            </div>
            <div id="topLogo">
            	
                <h:outputText value="MaizSoft"></h:outputText>
                <h:outputText value="..." style="color:#3B5999"></h:outputText>
                <h:commandButton image="css/images/calendario.png" style="width:30px"/>
                <h:outputText value=".." style="color:#3B5999"></h:outputText>
                <h:commandButton image="css/images/mensajes.png" style="width:30px"/>
                <h:outputText value=".." style="color:#3B5999"></h:outputText>
                <h:commandButton image="css/images/actualizacion.png" style="width:30px"/>
                <br/>
                <br/>
               
                <h:outputText value="Navegar"></h:outputText>
            </div>
		 <div id="topPrincipal">
                     <h:form>
                        <h:outputText id="menuWelcomeId" value="#{credentials.username}" rendered="#{identity.loggedIn}"/>
                        <s:link id="menuLogoutId" view="/home.xhtml" action="#{identity.logout}" value="Salir" rendered="#{identity.loggedIn}" propagation="none" style="color: white"/>
                    </h:form>
                    
                   	<br />
                   	<br />
                    <form name="form_reloj"> 
                    	
						<input type="text" name="reloj" size="17" style="color: #FFFFFF; background: #3B5999; text-align : center" onfocus="window.document.form_reloj.reloj.blur()"/> 
					</form> 
         </div>

            <div id="topSearch">
                
                <form class="searchform">
                    <input class="searchfield" type="text" value="Buscar..." onFocus="if (this.value == 'Buscar...') {this.value = '';}" onBlur="if (this.value == '') {this.value = 'Buscar...';}"/>
                    
                    <h:commandButton class="searchbutton" image="css/images/buscar.png"  style="width:24px"/>
                </form>
            </div>
        </s:div>
	
	<div class="center2">
	
		<div id="content" class="right_content">
            <h:form id="userAccount" styleClass="edit">

        <rich:panel>
            <f:facet name="header">#{userAccountHome.managed ? 'Edit' : 'Add'} User account</f:facet>


<s:decorate id="primerNombreField" template="layout/edit.xhtml">
                <ui:define name="label">Primer nombre</ui:define>
                <h:inputText id="primerNombre"
                       required="true"
                           size="20"
                      maxlength="20"
                          value="#{userAccountHome.instance.primerNombre}">
                    <a:support event="onblur" reRender="primerNombreField" bypassUpdates="true" ajaxSingle="true"/>
                </h:inputText>
            </s:decorate>



            <s:decorate id="segundoNombreField" template="layout/edit.xhtml">
                <ui:define name="label">Segundo nombre</ui:define>
                <h:inputText id="segundoNombre"
                           size="20"
                      maxlength="20"
                          value="#{userAccountHome.instance.segundoNombre}">
                    <a:support event="onblur" reRender="segundoNombreField" bypassUpdates="true" ajaxSingle="true"/>
                </h:inputText>
            </s:decorate>
            
            <s:decorate id="apellidosField" template="layout/edit.xhtml">
                <ui:define name="label">Apellidos</ui:define>
                <h:inputText id="apellidos"
                       required="true"
                           size="20"
                      maxlength="20"
                          value="#{userAccountHome.instance.apellidos}">
                    <a:support event="onblur" reRender="apellidosField" bypassUpdates="true" ajaxSingle="true"/>
                </h:inputText>
            </s:decorate>
			
			<s:decorate id="tipoDocumentoField" template="layout/edit.xhtml">
                <ui:define name="label">Tipo documento</ui:define>
                <h:selectOneMenu id="tipoDocumento"
                          value="#{userAccountHome.instance.tipoDocumento}">
                          <s:selectItems var="tipoDocumento" value="#{listaTipoDocumento}" label="#{tipoDocumento}">
                          </s:selectItems> 
                          <s:convertEnum/>                
                </h:selectOneMenu>
            </s:decorate>
			
			<s:decorate id="documentoIdentidadField" template="layout/edit.xhtml">
                <ui:define name="label">Documento identidad</ui:define>
                <h:inputText id="documentoIdentidad"
                       required="true"
                          value="#{userAccountHome.instance.documentoIdentidad}">
                    <a:support event="onblur" reRender="documentoIdentidadField" bypassUpdates="true" ajaxSingle="true"/>
                </h:inputText>
            </s:decorate>
            
            <s:decorate id="correoElectronicoField" template="layout/edit.xhtml">
                <ui:define name="label">Correo electronico</ui:define>
                <h:inputText id="correoElectronico"
                           	size="20"
                      		maxlength="30"
                           	required="true"
                            value="#{userAccountHome.instance.correoElectronico}"/>
            </s:decorate>


           

			<!--
            <s:decorate id="enabledField" template="layout/edit.xhtml">
                <ui:define name="label">Enabled</ui:define>
                <h:selectBooleanCheckbox id="enabled"
                                   required="true"
                                      value="#{userAccountHome.instance.enabled}"/>
            </s:decorate>
			  
			 
            <s:decorate id="fotoUserField" template="layout/edit.xhtml">
                <ui:define name="label">Foto user</ui:define>
                <h:inputText id="fotoUser"
                          value="#{userAccountHome.instance.fotoUser}">
                    <a:support event="onblur" reRender="fotoUserField" bypassUpdates="true" ajaxSingle="true"/>
                </h:inputText>
            </s:decorate>
			
            <s:decorate id="passwordHashField" template="layout/edit.xhtml">
                <ui:define name="label">Password hash</ui:define>
                <h:inputTextarea id="passwordHash"
                               cols="80"
                               rows="3"
                              value="#{userAccountHome.instance.passwordHash}"/>
            </s:decorate>
			   			-->

            <s:decorate id="usernameField" template="layout/edit.xhtml">
                <ui:define name="label">Username</ui:define>
                <h:inputText id="username"
                             required="true"
                           	size="20"
                      		maxlength="20"
                              value="#{userAccountHome.instance.username}"/>
            </s:decorate>


            <div style="clear:both">
                <span class="required">*</span>
                required fields
            </div>

        </rich:panel>

        <div class="actionButtons">
			
				
            <h:commandButton id="save"
                          value="Aceptar"
                          action="#{userAccountHome.persist}"
                       disabled="#{!userAccountHome.wired}"
                       rendered="#{!userAccountHome.managed}"/>

            <h:commandButton id="update"
                          value="Save"
                         action="#{userAccountHome.update}"
                       rendered="#{userAccountHome.managed}"/>

            <h:commandButton id="delete"
                          value="Delete"
                         action="#{userAccountHome.remove}"
                      immediate="true"
                       rendered="#{userAccountHome.managed}"/>

            <s:button id="cancelEdit"
                   value="Cancel"
             propagation="end"
                    view="/UserAccount.xhtml"
                rendered="#{userAccountHome.managed}"/>

            <s:button id="cancelAdd"
                   value="Cancel"
             propagation="end"
                    view="/#{empty userAccountFrom ? 'UserAccountList' : userAccountFrom}.xhtml"
                rendered="#{!userAccountHome.managed}"/>

        </div>
    </h:form>
   

<rich:tabPanel switchType="ajax">

    <rich:tab label="Grupo curso">
    <div class="association" id="grupoCursoParent">

        <h:outputText value="El usuario no tiene asociado ningun curso"
                   rendered="#{userAccountHome.instance.grupoCurso == null}"/>

        <rich:dataTable var="_grupoCurso"
                   value="#{userAccountHome.instance.grupoCurso}"
                rendered="#{userAccountHome.instance.grupoCurso != null}"
              rowClasses="rvgRowOne,rvgRowTwo"
                      id="grupoCursoTable">
            <h:column>
                <f:facet name="header">Id grupo</f:facet>
                <h:outputText value="#{_grupoCurso.idGrupo}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Cupos</f:facet>
                <h:outputText value="#{_grupoCurso.cupos}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Curso grupo codigo</f:facet>
                <h:outputText value="#{_grupoCurso.cursoGrupo.codigo}"/>
            </h:column>
            <h:column>
                <f:facet name="header">Inscritos</f:facet>
                <h:outputText value="#{_grupoCurso.inscritos}"/>
            </h:column>
        </rich:dataTable>

        <div class="actionButtons">
            <s:button id="#{userAccountHome.instance.grupoCurso != null ? 'changeParent' : 'selectParent'}" value="#{userAccountHome.instance.grupoCurso != null ? 'Change' : 'Adicionar a'} curso"
                       view="/GrupoCursoList.xhtml">
                <f:param name="from" value="UserAccountEdit"/>
            </s:button>
        </div>

    </div>
    </rich:tab>
</rich:tabPanel>
</div>
		
		<div class="left" style="margin-top: -394px; height: 500px">
                    <rich:panel>
                      <h:form> 
                        <h:commandLink value="#{credentials.username}"/>
                        <hr />
                        <div class="navigation">
    						<ul class="top-level">
        						<li><h:commandLink value="Administrar Usuarios" style="text-decoration : underline"/>
            						<ul class="sub-level">
                						<li><a href="/MaizSoft/UserAccountEdit.seam">Adicionar Usuario</a></li>
                						<li><a href="/MaizSoft/UserAccountList.seam">Editar/Eliminar</a></li>
                						<li><a href="/MaizSoft/UserAccountListDos.seam">Buscar Usuario</a></li>
            						</ul>
        						</li>
        						<li><h:commandLink value="Administrar Roles"/>
        							<ul class="sub-level">
        								<li><a href="/MaizSoft/UserRoleEdit.seam">Adicionar Rol</a></li>
                						<li><a href="/MaizSoft/UserRoleList.seam">Editar Rol</a></li>
                						<li><a href="/MaizSoft/UserRoleEliminar.seam">Eliminar Rol</a></li>
                						<li><a href="/MaizSoft/UserRoleList.seam">Buscar Rol</a></li>
        							</ul>
        						</li>	
        						<li><h:commandLink value="Administrar Curso"/></li>
        						
   		 					</ul>
						</div>
                      </h:form>
                    </rich:panel>
       	     </div>

	      <div class="right" style="margin-top: -394px; height: 500px">
     		     <ui:insert name="right">Right</ui:insert>
     		</div>

    
		<div class="bottom" align="center">
       		        		<img src="css/images/uptc.png" style="height: 80px; margin-left: -430px" />
            
            <div style="margin-top: -90px">
            <pre>Universidad Pedag&#243;gica y Tecnol&#243;gica de Colombia (UPTC)
            Facultad de Ingenier&#237;a            
   Ingenier&#237;a de Sistemas y Computaci&#243;n
Grupo de Investigaci&#243;n en Ingenier&#237;a del Software
Correo:gis@uptc.edu.co
</pre>
				
			</div>
        	<div style="margin-top: -88px">
        		<img src="css/images/gis.png" style="height: 80px; width: 80px; margin-left: 470px" />
        	</div>		
        	</div>
	</div>
	</body> 
 </ui:define>
</ui:composition>
