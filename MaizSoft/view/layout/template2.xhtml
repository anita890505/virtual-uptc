<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:a4j="https://ajax4jsf.dev.java.net/ajax"
	xmlns:rich="http://richfaces.org/rich" template="template.xhtml">


	<ui:define name="reloj">

		<script language="JavaScript"> 

    	function mueveReloj(){ 
    	   	momentoActual = new Date()
    	   	hora = momentoActual.getHours() 
   			minuto = momentoActual.getMinutes() 
   			segundo = momentoActual.getSeconds() 

   			str_segundo = new String (segundo) 
   			if (str_segundo.length == 1) 
      	 		segundo = "0" + segundo 

   			str_minuto = new String (minuto) 
   			if (str_minuto.length == 1) 
      	 		minuto = "0" + minuto 

   			str_hora = new String (hora) 
   			if (str_hora.length == 1) 
	      	 	hora = "0" + hora 

   			horaImprimible = "hora: "+hora + " : " + minuto + " : " + segundo 

   			document.form_reloj.reloj.value = horaImprimible 

   			setTimeout("mueveReloj()",1000) 
} 
</script>
	</ui:define>



	<ui:define name="body">
		<body onload="mueveReloj()">
			<div>
				<ui:insert name="cabezoteT">
					<div id="cabezote"
						style="position: relative; background-color: #315E9F; color: white; height: 80px;">

						<div id="topLogo"
							style="position: relative; float: left; background-color: #315E9F; height: 30px; margin-top: 4px;">
							<h:form>
								<h:outputText value="MaizSoft"></h:outputText>
								<h:outputText value="..." style="color:#315E9F"></h:outputText>
								<h:commandButton image="/css/images/calendario.png"
									style="width:30px" />
								<h:outputText value=".." style="color:#315E9F"></h:outputText>
								<h:commandButton action="/GestorMensajeriaEdit.xhtml"
									image="/css/images/mensajes.png" style="width:30px" />
								<h:outputText value=".." style="color:#315E9F"></h:outputText>
								<h:commandButton image="/css/images/actualizacion.png"
									style="width:30px" />
								<br />
								<br />
								<h:outputText value="Navegar"></h:outputText>
							</h:form>
						</div>


						<div id="topPrincipal"
							style="position: relative; float: right; background-color: #315E9F; height: 30px; margin-top: 4px">
							<div style="margin-right: 10px">
								<h:form>
									<h:outputText id="menuWelcomeId"
										value="#{credentials.username}"
										rendered="#{identity.loggedIn}" />
										
									<s:link id="menuLogoutId" 
										action="#{identity.logout}" value="Salir"
										style="color: white" view="/login.xhtml"/>
								</h:form>
								<br /> <br />
								<form name="form_reloj">

									<input type="text" name="reloj" size="17"
										style="color: #FFFFFF; background: #315E9F; text-align: center"
										onfocus="window.document.form_reloj.reloj.blur()" />
								</form>
							</div>
						</div>

						<div id="topSearch"
							style="position: relative; height: 30px; float: inherit; margin-top: 37px; margin-left: 350px; vertical-align: middle;">

							<form class="searchform">
								<input class="searchfield" type="text" value="Buscar..."
									onFocus="if (this.value == 'Buscar...') {this.value = '';}"
									onBlur="if (this.value == '') {this.value = 'Buscar...';}" />

								<h:commandButton class="searchbutton"
									image="/css/images/buscar.png" style="width:24px" />
							</form>
						</div>

					</div>
				</ui:insert>

				<div id="medio"
					style="float: left; background-color: #FFFFFF; color: #000000; width: 100%;">
					<ui:insert name="izquierdaT">

						<div id="izquierda"
							style="float: left; background-image: url(images/MenuMiddle2.jpg); padding: 5px; width: 190px;">
							<rich:panel>
								<h:form id="form">
									
									<img src="css/images/gis.png" style="height: 80px"/>
									<br/>
									<h:commandLink value="#{credentials.username}"
										action="/UserAccountEdit.seam" />
									<br />
									<br />
									<rich:separator height="2" lineType="dotted" />
									<br />

									<h:panelGrid columns="2" columnClasses="cols,cols" width="400">
										<rich:panelMenu style="width:150px;" itemMode="ajax"
											groupMode="ajax" groupExpandedLeftIcon="triangleUp"
											groupCollapsedLeftIcon="triangleDown"
											topGroupExpandedRightIcon="chevronUp"
											topGroupCollapsedRightIcon="chevronDown" itemLeftIcon="disc"
											itemChangeListener="#{panelMenuBean.updateCurrent}"
											expandSingle="true" showDelay="250" hideDelay="0"
											submitMode="none">
											<rich:panelMenuGroup label="Mensajes" style="color: #FFFFFF;">
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Crear" action="/GestorMensajeriaEdit.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Ver" action="/GestorMensajeriaList.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
											</rich:panelMenuGroup>

											<rich:panelMenuGroup label="Administrar Usuarios"
												style="color: #FFFFFF;" rendered="#{s:hasRole('admin')}">
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Adicionar"
														action="#{usuarioHome.crearUsuario}"
														rendered="#{s:hasPermission('seam.user', 'create')}"
														propagation="end"></s:link>
												</rich:panelMenuItem>

												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Carga Masiva"
														action="#{cargaMasivaUsuariosBean.crearUsuario}"
														rendered="#{s:hasPermission('seam.user', 'create')}"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Editar" action="/UsuarioListEdit.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Buscar" action="/UsuarioList.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Crear Cuenta" action="/UsuarioList.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
											</rich:panelMenuGroup>
											<rich:panelMenuGroup label="Administrar Curso"
												style="color: #FFFFFF;" rendered="#{s:hasRole('admin')}">
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Crear Curso" action="/admin/CursoEdit.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Editar Curso" action="/CursoList.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Crear Grupo" action="/admin/GrupoCursoEdit.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Editar Grupo" action="/GrupoCursoList.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Adicionar Estudiante" propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Carga Masiva Estudiantes" propagation="end"></s:link>
												</rich:panelMenuItem>
											</rich:panelMenuGroup>
											<rich:panelMenuGroup label="Administrar Facultad y Escuela"
												style="color: #FFFFFF;" rendered="#{s:hasRole('admin')}">
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Crear"
														action="/admin/EnteUniversitarioEdit.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Editar" action="/EnteUniversitarioList.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
											</rich:panelMenuGroup>
											<rich:panelMenuGroup label="Generar Informe"
												style="color: #FFFFFF;" rendered="#{s:hasRole('admin')}">
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Generar" propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Ver" propagation="end"></s:link>
												</rich:panelMenuItem>
											</rich:panelMenuGroup>
											<rich:panelMenuGroup label="Administrar Repositorio"
												style="color: #FFFFFF;" rendered="#{s:hasRole('admin')}">
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Crear"
														action="/GestorRepositoriosVirtualesEdit.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>
												<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Editar"
														action="/GestorRepositoriosVirtualesList.seam"
														propagation="end"></s:link>
												</rich:panelMenuItem>												
											</rich:panelMenuGroup>
											<rich:panelMenuGroup label="Cursos"
												style="color: #FFFFFF;" rendered="#{s:hasRole('estudiante')}">
											<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Ingresar"
														action="/GestorRepositoriosVirtualesEdit.seam"
														propagation="end" ></s:link>
											</rich:panelMenuItem>
											<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Consultar"
														action="/GestorRepositoriosVirtualesEdit.seam"
														propagation="end" ></s:link>
											</rich:panelMenuItem>
											</rich:panelMenuGroup>
											<rich:panelMenuGroup label="Notas"
												style="color: #FFFFFF;" rendered="#{s:hasRole('estudiante')}">
											<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Ver"
														action="/GestorRepositoriosVirtualesEdit.seam"
														propagation="end" ></s:link>
											</rich:panelMenuItem>
											</rich:panelMenuGroup>
											
											<rich:panelMenuGroup label="Enlaces Externos"
												style="color: #FFFFFF;" rendered="#{s:hasRole('estudiante')}">
											<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Consultar"
														action="/GestorRepositoriosVirtualesEdit.seam"
														propagation="end" ></s:link>
											</rich:panelMenuItem>
											</rich:panelMenuGroup>
											
											<rich:panelMenuGroup label="Noticias"
												style="color: #FFFFFF;" rendered="#{s:hasRole('estudiante')}">
											<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Consultar"
													action="/GestorRepositoriosVirtualesEdit.seam"										propagation="end" ></s:link>
											</rich:panelMenuItem>
											</rich:panelMenuGroup>																					
											<rich:panelMenuGroup label="Cursos"
												style="color: #FFFFFF;" rendered="#{s:hasRole('docente')}">
											<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Ingresar"
														action="/GestorRepositoriosVirtualesEdit.seam"
														propagation="end" ></s:link>
											</rich:panelMenuItem>
											<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Consultar"
														action="/GestorRepositoriosVirtualesEdit.seam"
														propagation="end" ></s:link>
											</rich:panelMenuItem>
											</rich:panelMenuGroup>
																					
											<rich:panelMenuGroup label="Enlaces Externos"
												style="color: #FFFFFF;" rendered="#{s:hasRole('docente')}">
											<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Consultar"
														action="/GestorRepositoriosVirtualesEdit.seam"
														propagation="end" ></s:link>
											</rich:panelMenuItem>
											</rich:panelMenuGroup>
											
											<rich:panelMenuGroup label="Noticias"
												style="color: #FFFFFF;" rendered="#{s:hasRole('docente')}">
											<rich:panelMenuItem style="color: #045491;" icon="disc">
													<s:link value="Consultar"
													action="/GestorRepositoriosVirtualesEdit.seam"										propagation="end" ></s:link>
											</rich:panelMenuItem>
											</rich:panelMenuGroup>
										</rich:panelMenu>
										<a4j:outputPanel ajaxRendered="true">
											<rich:panel rendered="#{not empty panelMenuBean.current}">
												<h:outputText value="#{panelMenuBean.current} selected"
													id="current" />
											</rich:panel>
										</a4j:outputPanel>
									</h:panelGrid>

								</h:form>

							</rich:panel>

						</div>
					</ui:insert>
					<ui:insert name="derechaT">
						<div id="derecha"
							style="float: right; background-image: url(images/MenuMiddle2_1.jpg); padding: 5px; width: 190px;">
							<h:form>

								<rich:panel>


									<rich:calendar popup="false">
										<f:facet name="weekNumber">
											<h:outputText value="" style="color:red" />
										</f:facet>
									</rich:calendar>
									<s:link value="Agenda" action="/GestorNoticiasList.seam" 
									rendered="#{s:hasRole('docente')}" propagation="end" />
									<s:link value="Agenda" action="/GestorNoticiasList.seam" 
									rendered="#{s:hasRole('estudiante')}" propagation="end" />
									<br />	
									
									<s:link value="Gestionar noticias"
										action="/GestorNoticiasList.seam"
										rendered="#{s:hasRole('admin')}" propagation="end" />
									<br />
									<br />
									<s:link value="Ayuda" action="/CursoActividad.seam"
										propagation="end" />
									<br />
									
									
									
									<rich:panel>
    <f:facet name="header">Resultados (#{empty grupoCursoList.resultList ? 0 : (grupoCursoList.paginated ? grupoCursoList.resultCount : grupoCursoList.resultList.size)})</f:facet>
    <div class="results" id="grupoCursoList">

     <h:outputText value="La busqueda no arrojo resultados."
      rendered="#{empty grupoCursoList.resultList}" />
     <div align="center">
      
      <rich:dataTable id="grupoCursoList" var="_grupoCurso"
       value="#{grupoCursoList.resultList}" rows="10">
       <h:column>
        <f:facet name="header">
         <ui:include src="layout/sort.xhtml">
          <ui:param name="entityList" value="#{grupoCursoList}" />
          <ui:param name="propertyLabel" value="Id grupo" />
          <ui:param name="propertyPath" value="grupoCurso.idGrupo" />
         </ui:include>
        </f:facet>
        <h:outputText value="#{_grupoCurso.idGrupo}" />
       </h:column>
       
       <rich:column styleClass="action">
        <f:facet name="header">Action</f:facet>
        <s:link view="/#{empty from ? 'GrupoCurso' : from}.xhtml"
         value="#{empty from ? 'Ver' : 'Seleccionar'}"
         propagation="#{empty from ? 'none' : 'default'}"
         id="grupoCursoViewId">
         <f:param name="grupoCursoIdGrupo"
          value="#{_grupoCurso.idGrupo}" />
        </s:link>
            #{' '}
            <s:link view="/admin/GrupoCursoEdit.xhtml" value="Editar"
         propagation="none" id="grupoCursoEdit" rendered="#{empty from}">
         <f:param name="grupoCursoIdGrupo"
          value="#{_grupoCurso.idGrupo}" />
        </s:link>
       </rich:column>
      </rich:dataTable>
      
     </div>
    </div>
   </rich:panel>
								</rich:panel>

							</h:form>

						</div>
					</ui:insert>

					<div id="centro"
						style="float: center; margin-left: 210px; margin-right: 210px; overflow: hidden">
						<ui:insert name="centroT">
							<h1>CENTRO</h1>

						</ui:insert>

					</div>

				</div>

				<ui:insert name="footerT">

					<div id="footer" style="overflow: hidden; float: center;"
						align="center">
						<rich:separator height="4" />
						<br />
						<div style="float: left; margin-left: 270px">
							<img src="css/images/uptc.png" style="height: 80px" />
						</div>

						<div style="float: right; margin-right: 270px">
							<img src="css/images/gis.png" style="height: 80px" />
						</div>
						<div style="position: relative;">
							<p>
								Universidad Pedag&#243;gica y Tecnol&#243;gica de Colombia
								(UPTC) <br /> Facultad de Ingenier&#237;a <br />
								Ingenier&#237;a de Sistemas y Computaci&#243;n <br /> Grupo de
								Investigaci&#243;n en Ingenier&#237;a del Software <br />
								Correo:gis@uptc.edu.co
							</p>
						</div>


					</div>
				</ui:insert>
			</div>
		</body>
	</ui:define>

</ui:composition>